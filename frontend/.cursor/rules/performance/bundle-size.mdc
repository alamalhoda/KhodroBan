---
description: Bundle size management, performance budget constraints, code splitting, tree shaking, and bundle analysis
globs:
  - "frontend/src/**/*.ts"
  - "frontend/src/**/*.js"
  - "frontend/vite.config.*"
alwaysApply: false
---

# Bundle Size Management

## Performance Budget

**الزامات سخت:**
- Initial JS bundle: **<170KB** (gzipped)
- Initial CSS: **<50KB** (gzipped)
- Total page weight: **<1MB**

## Code Splitting

- Route-based code splitting
- Component lazy loading برای components بزرگ
- Dynamic imports

**الگو:**
```javascript
const HeavyComponent = await import('./HeavyComponent.svelte');
```

## Tree Shaking

- Import فقط آنچه نیاز است
- از `import *` پرهیز کن
- استفاده از named exports

## Bundle Analysis

- استفاده از bundle analyzer
- Track bundle size در CI/CD
- Alert هنگام exceed budget
